{% extends 'base.html' %}

{% block content %}

<div class="card w-100">
    <div class="card-body">

        <h1>{{select_topic}}</h1>
        <ul>{{select_topic.content}}</ul>
        <hr>
        <div style="float: right;">
                <strong>account : {{ select_topic.user_name }}</strong> 
                {% if user.is_authenticated %}
                    {% if user.username|striptags == select_topic.user_name|striptags %}
                        <a class="btn btn-primary" href="{% url 'edit_topic' select_topic.topicid %}">Edit</a>
                        <a class="btn btn-secondary" href="{% url 'delete_topic' select_topic.topicid %}">Delete</a>
                    {% endif %}
                {% endif %}
                <p style="text-align:right;">asked : {{time_create_topic}}</p>
        </div>
    </div>
</div>
    <br>

    <strong>Comment</strong><br>
    
    <ul>
        {% for comment in comment_topic %}
            <div class="card w-100">
                <div class="card-body">
                    <p>{{ comment }}</p>
                    <hr>
                    <strong>account : {{comment.comuserid}}</strong>
                    {% if user.is_authenticated %}
                        {% if user.username|striptags == comment.comuserid|striptags %}
                            <a class="btn btn-primary" href="{% url 'edit_comment' comment.commentid %}">Edit</a>
                            <a class="btn btn-secondary" href="{% url 'delete_comment' comment.commentid %}">Delete</a>
                            <br>
                        {% endif %}
                    {% endif %}
                    <p>answered : {{comment.date}}</p>
                </div>
            </div>
            <br>
        {% endfor %}
            
    </ul>
    <br>

    <strong>Create Comment</strong>
    <ul>
        <form method="POST" action="{% url 'create_comment' select_topic.topicid %}">
            {% csrf_token %}
            <textarea style="font-size: 12pt" rows="4" cols="50" name="content">{{select_comment}}</textarea>
            <br>

            <button type="submit" class="btn btn-success">Create</button>
        </form>
    </ul>
{% endblock %}